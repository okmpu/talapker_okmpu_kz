{% load static %}
{% load i18n %}


<!-- Resources -->
<div class="bg-primary-600">
    <div class="w-full min-w-xs max-w-screen-2xl mx-auto px-4 py-2 flex gap-4 justify-between overflow-x-auto">
        {% for item in resources %}
            <a 
                href="{{ item.url }}" 
                target="{% if item.target %}_blank{% else %}_self{% endif %}" 
                class="text-white whitespace-nowrap transition-all hover:opacity-50"
            >
                {{ item.label }}
            </a>
        {% endfor %}
    </div>
</div>

<!-- Branding header -->
<div class="max-w-screen-2xl w-full mx-auto px-4 flex justify-between items-center">
    <a href="{% url 'main' %}" class="relative">
        <img src="{% static '/images/logo.png' %}" class="w-36 md:w-42" alt="Zhanibekov university logo" />
        <span class="absolute top-3 right-3 text-xs text-primary-950">Талапкер</span>
    </a>

    <div class="flex gap-2 justify-between items-center">
        <!-- Nav drawer button -->
        <button
            type="button"
            class="inline-flex items-center p-2 justify-center cursor-pointer rounded-lg lg:hidden hover:bg-secondary-100 focus:outline-none focus:ring-2 focus:ring-secondary-200"
            data-drawer-target="drawer-top-navbar" 
            data-drawer-show="drawer-top-navbar" 
            data-drawer-placement="top" 
            aria-controls="drawer-top-navbar"
        >
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu-icon lucide-menu">
                <path d="M4 5h16" />
                <path d="M4 12h16" />
                <path d="M4 19h16" />
            </svg>
        </button>

        <!-- Search modal button -->
        <button
            type="button"
            data-modal-target="search-modal" 
            data-modal-toggle="search-modal"
            class="hidden lg:block p-2 focus:outline-none rounded-lg border border-border-200 hover:bg-secondary-100 focus:z-10 focus:ring-2 focus:ring-secondary-100"
        >
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-icon lucide-search">
                <path d="m21 21-4.34-4.34" />
                <circle cx="11" cy="11" r="8" />
            </svg>
        </button>
        
        <!-- Switch language -->
        <form action="{% url 'set_language' %}" method="post" class="hidden lg:flex items-center space-x-4">
            {% csrf_token %}
            
            <div class="relative w-28">
                <select 
                    name="language" 
                    onchange="this.form.submit()" 
                    class="block w-full py-2 px-4 border border-border-200 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-primary-600"
                >
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% get_language_info_list for LANGUAGES as languages %}
                    {% for language in languages %}
                        <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %}selected{% endif %}>
                            {{ language.name_local }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <input type="hidden" name="next" value="{{ request.path }}">
        </form>
    </div>
</div>